<!--
 * @Author: ke
 * @Date: 2019-09-20 11:23:54
 * @LastEditTime: 2019-09-21 11:15:11
 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Promise对象</title>
</head>
<body>
<!-- 
  1. 理解
    Promise对象 : 代表了未来某个将要发生的事件(通常是一个异步操作)
    有了Promise对象,可以将异步操作以同步的流程表达出来,避免了层层嵌套的回调函数(俗称 '回调地狱')
    ES6的Promise是一个构造函数,用来生成promise实例
  2. 使用promise基本步骤(2步)
    创建promise对象
    let promise = new Promise((resolve,reject) => {
      //初始化promise状态为pending
      //执行异步操作
      if(异步操作成功) {
        resolve(value); //修改promise的状态为fullfilled
      } else {
        reject(errMsg); //修改promise的状态为rejected
      }
    })
    调用promise的then()
    promise.then(function(
      result => console.log(result),
      errMsg => alert(errMsg)
    ))
  3. promise对象的3个状态
    pending : 初始化状态
    fullfilled : 成功状态
    rejected : 失败状态
  4. 应用
    使用promise实现超时处理
    使用promise封装处理的ajax请求
    let request = new XMLHttpRequest();
    request.onreadystatechange = function () {
    }
    request.responseType = 'json'
    request.open("GET",url)
    request.send();
 -->
 <script>
 //创建一个promise实例对象
 let promise = new Promise((resolve,reject) => {
   //初始化promise的状态为pending------>初始化状态
   console.log('1111'); //同步执行
   //启动异步任务
   setTimeout(function() {
     console.log('3333');
     reject('xxxx')
   },1000)
 });
 </script>
</body>     
</html>